{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\maria\\\\REACT\\\\ohMyCode_toDoTest\\\\ohMyCode_CRUD\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\maria\\\\REACT\\\\ohMyCode_toDoTest\\\\ohMyCode_CRUD\\\\src\\\\pages\\\\ToDoList.jsx\";\n\nimport React, { useState, useEffect } from 'react';\nimport { useQuery } from 'react-query';\nimport './ToDoList.css';\nimport { getAll } from '../services/api';\nimport Item from './Item';\nimport SearchBar from '../components/SearchBar';\nimport { auth } from '../firebase';\nimport { Spinner } from '../components/Spinner';\n\nvar ToDoList = function ToDoList(props) {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  var _useQuery = useQuery(\"todos\", getAll),\n      data = _useQuery.data,\n      status = _useQuery.status,\n      error = _useQuery.error;\n\n  console.log(data);\n  useEffect(function () {\n    if (auth.currentUser) {\n      setUser(auth.currentUser);\n    } else {\n      props.history.push('/login');\n    }\n  }, [props.history]);\n\n  if (status === \"loading\") {\n    return /*#__PURE__*/React.createElement(Spinner, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 16\n      }\n    });\n  }\n\n  if (error === \"error\") {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 16\n      }\n    }, \"Error\");\n  }\n\n  if (status === \"success\") {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(SearchBar, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"list-group\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 21\n      }\n    }, data.map(function (_ref) {\n      var userId = _ref.userId,\n          title = _ref.title,\n          id = _ref.id,\n          completed = _ref.completed;\n      return /*#__PURE__*/React.createElement(Item, {\n        title: title,\n        userId: userId,\n        completed: completed,\n        key: id,\n        id: id,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 29\n        }\n      });\n    }))));\n  }\n};\n\nexport default ToDoList;","map":{"version":3,"sources":["C:/Users/maria/REACT/ohMyCode_toDoTest/ohMyCode_CRUD/src/pages/ToDoList.jsx"],"names":["React","useState","useEffect","useQuery","getAll","Item","SearchBar","auth","Spinner","ToDoList","props","user","setUser","data","status","error","console","log","currentUser","history","push","map","userId","title","id","completed"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,OAAO,gBAAP;AACA,SAASC,MAAT,QAAuB,iBAAvB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,SAASC,IAAT,QAAqB,aAArB;AACA,SAASC,OAAT,QAAwB,uBAAxB;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,KAAD,EAAW;AAAA,kBAEAT,QAAQ,CAAC,IAAD,CAFR;AAAA;AAAA,MAEjBU,IAFiB;AAAA,MAEXC,OAFW;;AAAA,kBAIST,QAAQ,CAAC,OAAD,EAAUC,MAAV,CAJjB;AAAA,MAIhBS,IAJgB,aAIhBA,IAJgB;AAAA,MAIVC,MAJU,aAIVA,MAJU;AAAA,MAIFC,KAJE,aAIFA,KAJE;;AAKxBC,EAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ;AAEAX,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAIK,IAAI,CAACW,WAAT,EAAsB;AAClBN,MAAAA,OAAO,CAACL,IAAI,CAACW,WAAN,CAAP;AACH,KAFD,MAEO;AACHR,MAAAA,KAAK,CAACS,OAAN,CAAcC,IAAd,CAAmB,QAAnB;AACH;AACJ,GANQ,EAMN,CAACV,KAAK,CAACS,OAAP,CANM,CAAT;;AAUA,MAAIL,MAAM,KAAK,SAAf,EAA0B;AACtB,wBAAO,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACH;;AACD,MAAIC,KAAK,KAAK,OAAd,EAAuB;AACnB,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAP;AACH;;AACD,MAAID,MAAM,KAAK,SAAf,EAA0B;AAEtB,wBACI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI;AAAI,MAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEKD,IAAI,CAACQ,GAAL,CAAS;AAAA,UAAGC,MAAH,QAAGA,MAAH;AAAA,UAAWC,KAAX,QAAWA,KAAX;AAAA,UAAkBC,EAAlB,QAAkBA,EAAlB;AAAA,UAAsBC,SAAtB,QAAsBA,SAAtB;AAAA,0BAEN,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEF,KAAb;AAAoB,QAAA,MAAM,EAAED,MAA5B;AAAoC,QAAA,SAAS,EAAEG,SAA/C;AAA0D,QAAA,GAAG,EAAED,EAA/D;AAAmE,QAAA,EAAE,EAAEA,EAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFM;AAAA,KAAT,CAFL,CAFJ,CADJ,CADJ;AAgBH;AACJ,CA1CD;;AA4CA,eAAef,QAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useQuery } from 'react-query';\r\nimport './ToDoList.css'\r\nimport { getAll } from '../services/api'\r\nimport Item from './Item';\r\nimport SearchBar from '../components/SearchBar'\r\nimport { auth } from '../firebase';\r\nimport { Spinner } from '../components/Spinner';\r\n\r\nconst ToDoList = (props) => {\r\n\r\n    const [user, setUser] = useState(null)\r\n\r\n    const { data, status, error, } = useQuery(\"todos\", getAll);\r\n    console.log(data)\r\n\r\n    useEffect(() => {\r\n        if (auth.currentUser) {\r\n            setUser(auth.currentUser)\r\n        } else {\r\n            props.history.push('/login')\r\n        }\r\n    }, [props.history])\r\n\r\n\r\n\r\n    if (status === \"loading\") {\r\n        return <Spinner />;\r\n    }\r\n    if (error === \"error\") {\r\n        return <p>Error</p>;\r\n    }\r\n    if (status === \"success\") {\r\n\r\n        return (\r\n            <div className='row'>\r\n                <div className=\"col-12\">\r\n                    <SearchBar />\r\n                    <ul className=\"list-group\">\r\n\r\n                        {data.map(({ userId, title, id, completed }) => (\r\n\r\n                            <Item title={title} userId={userId} completed={completed} key={id} id={id} />\r\n\r\n                        ))}\r\n\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ToDoList"]},"metadata":{},"sourceType":"module"}