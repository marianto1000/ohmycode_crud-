{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\maria\\\\REACT\\\\ohMyCode_toDoTest\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"C:\\\\Users\\\\maria\\\\REACT\\\\ohMyCode_toDoTest\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";\nimport _regeneratorRuntime from \"C:\\\\Users\\\\maria\\\\REACT\\\\ohMyCode_toDoTest\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\maria\\\\REACT\\\\ohMyCode_toDoTest\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\n// eslint-disable-next-line import/no-anonymous-default-export\n// export default async function(args) {\n//     const res = await fetch(args);\n//     return await res.json();\n// }\nvar apiUrl = \"https://jsonplaceholder.typicode.com\";\nexport var getAll = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var response;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return fetch(\"\".concat(apiUrl, \"/todos\"));\n\n          case 2:\n            response = _context.sent;\n\n            if (response.ok) {\n              _context.next = 5;\n              break;\n            }\n\n            throw new Error('something was wrong');\n\n          case 5:\n            return _context.abrupt(\"return\", response.json());\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function getAll() {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var updateItem = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_ref2) {\n    var id, data, response;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            id = _ref2.id, data = _objectWithoutProperties(_ref2, [\"id\"]);\n            _context2.next = 3;\n            return fetch(\"\".concat(apiUrl, \"/todos/\").concat(id), {\n              method: 'PUT',\n              headers: {\n                'Content-type': 'application/json; charset=UTF-8'\n              },\n              body: JSON.stringify(data)\n            });\n\n          case 3:\n            response = _context2.sent;\n\n            if (response.ok) {\n              _context2.next = 6;\n              break;\n            }\n\n            throw new Error(response.json().message);\n\n          case 6:\n            return _context2.abrupt(\"return\", response.json());\n\n          case 7:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function updateItem(_x) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nexport var getItem = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(_ref4) {\n    var queryKey, _queryKey, key, id, response;\n\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            queryKey = _ref4.queryKey;\n            _queryKey = _slicedToArray(queryKey, 2), key = _queryKey[0], id = _queryKey[1].id;\n            _context3.next = 4;\n            return fetch(\"\".concat(apiUrl, \"/todos/\").concat(id));\n\n          case 4:\n            response = _context3.sent;\n\n            if (response.ok) {\n              _context3.next = 7;\n              break;\n            }\n\n            throw new Error(response.json().message);\n\n          case 7:\n            return _context3.abrupt(\"return\", response.json());\n\n          case 8:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function getItem(_x2) {\n    return _ref5.apply(this, arguments);\n  };\n}();\nexport var removeItem = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(id) {\n    var response;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return fetch(\"\".concat(apiUrl, \"/todos/\").concat(id), {\n              method: 'DELETE'\n            });\n\n          case 2:\n            response = _context4.sent;\n\n            if (response.ok) {\n              _context4.next = 5;\n              break;\n            }\n\n            throw new Error(response.json().message);\n\n          case 5:\n            return _context4.abrupt(\"return\", true);\n\n          case 7:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function removeItem(_x3) {\n    return _ref6.apply(this, arguments);\n  };\n}();\nexport var createItem = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(data) {\n    var response;\n    return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return fetch(\"\".concat(apiUrl, \"/todos/\"), {\n              method: 'POST',\n              headers: {\n                'Content-type': 'application/json; charset=UTF-8'\n              },\n              body: JSON.stringify(data)\n            });\n\n          case 2:\n            response = _context5.sent;\n\n            if (response.ok) {\n              _context5.next = 5;\n              break;\n            }\n\n            throw new Error(response.json().message);\n\n          case 5:\n            return _context5.abrupt(\"return\", response.json());\n\n          case 6:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n\n  return function createItem(_x4) {\n    return _ref7.apply(this, arguments);\n  };\n}();","map":{"version":3,"sources":["C:/Users/maria/REACT/ohMyCode_toDoTest/my-app/src/services/api.js"],"names":["apiUrl","getAll","fetch","response","ok","Error","json","updateItem","id","data","method","headers","body","JSON","stringify","message","getItem","queryKey","key","removeItem","createItem"],"mappings":"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","sourcesContent":["// eslint-disable-next-line import/no-anonymous-default-export\r\n// export default async function(args) {\r\n//     const res = await fetch(args);\r\n//     return await res.json();\r\n// }\r\nconst apiUrl = \"https://jsonplaceholder.typicode.com\";\r\n\r\nexport const getAll = async () => {\r\n    const response = await fetch(`${apiUrl}/todos`);\r\n    if (!response.ok) {\r\n        throw new Error('something was wrong')\r\n    }\r\n    return response.json();\r\n}\r\nexport const updateItem = async ({ id, ...data }) => {\r\n    const response = await fetch(`${apiUrl}/todos/${id}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n            'Content-type': 'application/json; charset=UTF-8',\r\n        },\r\n        body: JSON.stringify(data)\r\n    })\r\n    if (!response.ok) {\r\n        throw new Error(response.json().message)\r\n    }\r\n    return response.json()\r\n}\r\nexport const getItem = async ({ queryKey }) => {\r\n    const [key, { id }] = queryKey;\r\n    const response = await fetch(`${apiUrl}/todos/${id}`)\r\n    if (!response.ok) {\r\n        throw new Error(response.json().message)\r\n    }\r\n    return response.json()\r\n\r\n}\r\nexport const removeItem = async (id) => {\r\n    const response = await fetch(`${apiUrl}/todos/${id}`, {\r\n        method: 'DELETE'\r\n    })\r\n    if (!response.ok) {\r\n        throw new Error(response.json().message)\r\n    }\r\n    return true\r\n    console.log('elemento eliminado')\r\n}\r\n\r\nexport const createItem = async(data) => {\r\n    const response = await fetch(`${apiUrl}/todos/`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-type': 'application/json; charset=UTF-8',\r\n        },\r\n        body: JSON.stringify(data)\r\n    });\r\n    if (!response.ok) {\r\n        throw new Error(response.json().message)\r\n    }\r\n    return response.json();\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}